{{define "stylesheets"}}
<link rel="stylesheet" href="/css/fontawesome.min.css">
<link rel="stylesheet" href="/css/easymde.min.css">
{{end}}
{{define "content"}}
<section class="container">
  <div class="columns">
    <div class="column">
      <form action="/save/{{.Title}}" method="POST">
        <div class="form-group">
          <label class="form-label" for="input-body">Editing: {{.Title}}</label>
          <textarea class="form-input" id="input-body" name="body" placeholder="Enter content here..." cols="80" rows="24">{{printf "%s" .Body}}</textarea>
        </div>
        <div class="form-group row">
          <label for="commit-message" class="form-label">Commit message (optional)</label>
          <input type="text" class="form-input" id="commit-message" placeholder="..." name="message">
        </div>
        <div class="form-group">
          <button class="btn btn-sm btn-primary" type="submit">Save</button>
          <a class="btn btn-sm btn-link" href="/view/{{.Title}}">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</section>
{{end}}
{{define "scripts"}}
<script src="/js/easymde.min.js"></script>
<script>
(function() {
  var simplemde = new EasyMDE({
      element: document.getElementById("input-body"),
      autofocus: true,
      autosave: {
          enabled: true,
          uniqueId: "wiki-{{.Title}}", // TODO: Make this configurable?
          delay: 1000,
      },
      forceSync: true,
      indentWithTabs: false,
      promptURLs: true,
      tabSize: 4,
      autoDownloadFontAwesome: false,
  });
})();
</script>
{{end}}
